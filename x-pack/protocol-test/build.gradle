
apply plugin: 'elasticsearch.build'

group = 'org.elasticsearch.client'
archivesBaseName = 'x-pack-protocol-test'

// due to clash of xpack and protocol classes
jarHell.enabled = false
// jarHell is there - run tests manually before clean up is done
test.enabled = false

dependencies {
    testCompile "org.elasticsearch.plugin:x-pack-core:${version}"
    testCompile "org.elasticsearch.test:framework:${version}"
    testCompile ("org.elasticsearch.client:elasticsearch-rest-high-level-client:${version}") {
        exclude group: 'org.elasticsearch.plugin', module: 'protocol'
    }
    testCompile "com.carrotsearch.randomizedtesting:randomizedtesting-runner:${versions.randomizedrunner}"
    testCompile "junit:junit:${versions.junit}"
    testCompile "org.hamcrest:hamcrest-all:${versions.hamcrest}"
}